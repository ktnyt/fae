# fae - 設計概要書

## プロジェクト概要

**fae** (Fast And Elegant) は、コードベースを様々な切り口からリアルタイムで検索できるTUIベースのインタラクティブツールです。妖精のように軽やかで魔法のようにコードを発見します。

> **🎉 進捗状況**: Phase 4完了（2025-06-12）- コアエンジン実装済み、31テスト全通過

## 設計哲学

- **リアルタイム・ファースト**: 入力に応じた即座の結果更新
- **メモリ効率**: 巨大プロジェクトでもスマートなキャッシュ戦略
- **非同期設計**: UIブロッキングなしの快適な操作性
- **テスト駆動**: 全機能に対して網羅的なテスト

## 基本フロー

1. `fae` コマンド実行
2. TUI起動: 検索入力ボックス、結果リスト、ステータス表示
3. **デフォルト表示**: 
   - Git status がクリーンでない → 変更のあるファイル一覧
   - Git status がクリーン → 最近変更されたファイル
4. **リアルタイム検索**: 検索クエリ入力で即座に結果更新
5. **ナビゲーション**: Ctrl+P/N や矢印キーで選択
6. **アクション**: Enter で選択項目をクリップボードにコピー
7. **自動更新**: ファイル変更時にリストが自動更新
8. **終了**: Escape/Ctrl+C で終了

## マルチモード検索

1. **コンテンツ検索** (デフォルト) - ファイル内容のテキスト検索
2. **シンボル検索** (`#prefix`) - 関数・クラス・変数名での検索
3. **ファイル検索** (`>prefix`) - ファイル名・パスでの検索
4. **正規表現検索** (`/prefix`) - 高度なパターンマッチング

### 使用例

```bash
# シンボル検索: 関数名 "handle" を含むシンボル
#handle

# ファイル検索: "component" を含むファイル
>component

# 正規表現検索: import文の検索
/^import.*from

# コンテンツ検索: ファイル内容から "error" を検索
error
```

## 対象言語（初期）

- TypeScript (`.ts`, `.tsx`)
- JavaScript (`.js`, `.jsx`)
- Python (`.py`)
- Rust (`.rs`)

## 除外対象

- バイナリファイル
- `.gitignore` に記載されたファイル
- 1MB を超える大きなファイル
- 典型的な除外ディレクトリ (`node_modules/`, `target/`, `.git/` 等)

## 詳細設計

詳細な技術仕様については、以下のドキュメントを参照してください：

- **[ARCHITECTURE.md](./ARCHITECTURE.md)** - システム設計・データ構造・パフォーマンス設計
- **[DEVELOPMENT.md](./DEVELOPMENT.md)** - 開発フェーズ・テスト戦略・品質要求
- **[README.md](./README.md)** - ユーザー向け基本説明・インストール・使用方法

---

*この設計書は開発過程で継続的に更新され、実装と合わせて進化させる生きた文書として扱います。*