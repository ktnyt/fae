# TUI Architecture Redesign Plan

## ç›®çš„
TUIã®æŒ™å‹•ã‚’æ­£ç¢ºã«ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã€TUIã®æç”»ãƒ­ã‚¸ãƒƒã‚¯ã¨æŒ¯ã‚‹èˆã„ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã—ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹UIã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¸Šã§ã®TUIæŒ™å‹•å†ç¾ã‚’å®Ÿç¾ã™ã‚‹ã€‚

## ç¾åœ¨ã®èª²é¡Œ

### ãƒ†ã‚¹ãƒˆå¯èƒ½ãªéƒ¨åˆ†ï¼ˆMockTuiInterfaceï¼‰
- âœ… æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆFuzzySearcherï¼‰
- âœ… æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰æ¤œå‡ºãƒ»ã‚¯ã‚¨ãƒªæŠ½å‡º
- âœ… ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»çµæœè¡¨ç¤º
- âœ… ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆ862è¡Œã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰

### ãƒ†ã‚¹ãƒˆå›°é›£ãªéƒ¨åˆ†
- âŒ ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚·ãƒ³ã‚°ï¼ˆ113-529è¡Œï¼‰
  - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ»mpscãƒãƒ£ãƒãƒ«
  - 16msãƒãƒ¼ãƒªãƒ³ã‚°é–“éš”ã®ç²¾åº¦
  - try_recv()éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°å‹•ä½œ
  - MAX_UPDATES_PER_FRAMEåˆ¶é™åŠ¹æœ
- âŒ ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–çµ±åˆï¼ˆ531-595è¡Œï¼‰
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
  - ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã®è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°
- âŒ TUIæç”»å‡¦ç†ï¼ˆ927-1131è¡Œï¼‰
  - ratatui/crosstermç›´æ¥ä¾å­˜

## ææ¡ˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 1. å®Œå…¨ç‹¬ç«‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆSearchBackendï¼‰
```rust
pub struct SearchBackend {
    indexer: TreeSitterIndexer,
    searcher: FuzzySearcher,
    file_watcher: Option<FileWatcher>,
    event_sender: mpsc::Sender<BackendEvent>,
}
```

**è²¬ä»»ç¯„å›²:**
- ã‚·ãƒ³ãƒœãƒ«æŠ½å‡ºãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚·ãƒ³ã‚°
- ãƒ•ã‚¡ã‚¸ãƒ¼æ¤œç´¢ãƒ»ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ¤œç´¢
- ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ãƒ»è‡ªå‹•æ›´æ–°
- ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ã®ã¿ï¼ˆUIçŠ¶æ…‹ã¯ä¿æŒã—ãªã„ï¼‰

### 2. ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ 
```rust
// ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ â†’ UI
#[derive(Debug, Clone)]
pub enum BackendEvent {
    IndexingProgress { processed: usize, total: usize, symbols: Vec<CodeSymbol> },
    IndexingComplete { duration: Duration, total_symbols: usize },
    FileChanged { file: PathBuf, change_type: FileChangeType },
    SearchResults { query: String, results: Vec<SearchResult> },
    Error { message: String },
}

// UI â†’ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
#[derive(Debug, Clone)]
pub enum UserCommand {
    StartIndexing { directory: PathBuf },
    Search { query: String, mode: SearchMode },
    EnableFileWatching,
    CopyResult { index: usize },
    Quit,
}
```

### 3. UIçŠ¶æ…‹ç®¡ç†ï¼ˆTuiStateï¼‰
```rust
pub struct TuiState {
    symbols: Vec<CodeSymbol>,
    current_results: Vec<SearchResult>,
    selected_index: usize,
    query: String,
    current_search_mode: SearchMode,
    status_message: String,
    is_indexing: bool,
    // UIçŠ¶æ…‹ã®ã¿ã€æç”»ãƒ­ã‚¸ãƒƒã‚¯ã¯å«ã¾ãªã„
}
```

**è²¬ä»»ç¯„å›²:**
- UIçŠ¶æ…‹ã®ä¿æŒãƒ»æ›´æ–°
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®çŠ¶æ…‹åæ˜ 
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®çŠ¶æ…‹å¤‰æ›´

### 4. ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„TUIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼
```rust
pub struct TuiSimulator {
    backend: SearchBackend,
    state: TuiState,
    command_sender: mpsc::Sender<UserCommand>,
    event_receiver: mpsc::Receiver<BackendEvent>,
}

impl TuiSimulator {
    // ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„æ“ä½œ
    pub fn send_command(&mut self, command: UserCommand);
    pub fn wait_for_event(&mut self) -> BackendEvent;
    pub fn get_state(&self) -> &TuiState;
    
    // çµ±åˆãƒ†ã‚¹ãƒˆç”¨ãƒ¡ã‚½ãƒƒãƒ‰
    pub fn simulate_typing(&mut self, text: &str);
    pub fn simulate_key_press(&mut self, key: KeyCode);
    pub fn wait_for_indexing_complete(&mut self);
}
```

## å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 1: ç‹¬ç«‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­è¨ˆ
- SearchBackendã®åŸºæœ¬æ§‹é€ å®Ÿè£…
- ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ ã®å®šç¾©
- æ—¢å­˜TreeSitterIndexerãƒ»FuzzySearcherã¨ã®çµ±åˆ

### Phase 2: UIçŠ¶æ…‹åˆ†é›¢
- TuiStateã®å®Ÿè£…
- ç¾åœ¨ã®TuiAppã‹ã‚‰ã®çŠ¶æ…‹ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯æŠ½å‡º
- ã‚¤ãƒ™ãƒ³ãƒˆâ†’çŠ¶æ…‹æ›´æ–°ã®ãƒãƒƒãƒ”ãƒ³ã‚°

### Phase 3: TUIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼å®Ÿè£…
- TuiSimulatorã®åŸºæœ¬å®Ÿè£…
- ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„æ“ä½œAPI
- çµ±åˆãƒ†ã‚¹ãƒˆç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼ãƒ¡ã‚½ãƒƒãƒ‰

### Phase 4: çµ±åˆãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚·ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
- ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–çµ±åˆãƒ†ã‚¹ãƒˆ
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ UIæ›´æ–°ãƒ†ã‚¹ãƒˆ

### Phase 5: å®ŸTUIçµ±åˆ
- æ–°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã®å®ŸTUIå®Ÿè£…
- æ—¢å­˜ãƒ†ã‚¹ãƒˆç§»è¡Œãƒ»æ¤œè¨¼
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¤œè¨¼

## æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### ãƒ†ã‚¹ãƒˆå¯èƒ½ã«ãªã‚‹é …ç›®
1. **ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚·ãƒ³ã‚°**
   - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ã®æ­£ç¢ºæ€§
   - UIæ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®æ¤œè¨¼
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±åˆãƒ†ã‚¹ãƒˆ

2. **ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–**
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
   - è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°
   - ãƒ‡ãƒã‚¦ãƒ³ã‚·ãƒ³ã‚°åŠ¹æœ

3. **UIå¿œç­”æ€§**
   - 16msãƒãƒ¼ãƒªãƒ³ã‚°é–“éš”ã®åŠ¹æœ
   - MAX_UPDATES_PER_FRAMEåˆ¶é™
   - å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®æ€§èƒ½

4. **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆ**
   - å®Ÿéš›ã®é–‹ç™ºã‚·ãƒŠãƒªã‚ªå†ç¾
   - ã‚¨ãƒ©ãƒ¼çŠ¶æ³ã§ã®å›å¾©æ€§
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚·ãƒ¼ã‚±ãƒ³ã‚¹

### é–‹ç™ºåŠ¹ç‡å‘ä¸Š
- TUIèµ·å‹•ãªã—ã§ã®æŒ™å‹•æ¤œè¨¼
- CI/CDã§ã®è‡ªå‹•TUIçµ±åˆãƒ†ã‚¹ãƒˆ
- è¤‡é›‘ãªã‚·ãƒŠãƒªã‚ªã®å†ç¾å¯èƒ½æ€§
- ãƒã‚°å†ç¾ã®æ­£ç¢ºæ€§å‘ä¸Š

## æŠ€è¡“çš„è€ƒæ…®äº‹é …

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰æœ€å°åŒ–
- å¤§é‡ã‚·ãƒ³ãƒœãƒ«å‡¦ç†æ™‚ã®ãƒ¡ãƒ¢ãƒªåŠ¹ç‡
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»UIé–“ã®é©åˆ‡ãªåˆ†é›¢

### äº’æ›æ€§
- æ—¢å­˜TuiAppã¨ã®æ®µéšçš„ç§»è¡Œ
- ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆï¼ˆ192ãƒ†ã‚¹ãƒˆï¼‰ã®ä¿æŒ
- CLIãƒ¢ãƒ¼ãƒ‰ã¨ã®å…±å­˜

### æ‹¡å¼µæ€§
- æ–°ã—ã„æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰ã®è¿½åŠ å®¹æ˜“æ€§
- UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç‹¬ç«‹ãƒ†ã‚¹ãƒˆ
- å°†æ¥çš„ãªGUIå¯¾å¿œã®åŸºç›¤

## å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆæ¨å®šï¼‰

- **Phase 1-2**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»çŠ¶æ…‹åˆ†é›¢ï¼ˆ2-3ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰
- **Phase 3**: ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼å®Ÿè£…ï¼ˆ1-2ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰
- **Phase 4**: çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆ1-2ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰
- **Phase 5**: å®ŸTUIçµ±åˆãƒ»æ¤œè¨¼ï¼ˆ1ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼‰

**åˆè¨ˆ**: 5-10ã‚»ãƒƒã‚·ãƒ§ãƒ³

## å®Ÿè£…é€²æ—çŠ¶æ³ (2025-06-11 22:30 JST)

### âœ… Phase 1: ç‹¬ç«‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­è¨ˆ - **å®Œäº†**
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `src/backend.rs` (298è¡Œ)
- **SearchBackendæ§‹é€ ä½“**: TreeSitterIndexerã€FuzzySearcherã€ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
- **ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ **: BackendEvent/UserCommand enumã§åŒæ–¹å‘é€šä¿¡å®Ÿè£…
- **åŸºæœ¬æ©Ÿèƒ½**: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚·ãƒ³ã‚°ã€æ¤œç´¢ã€ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ï¼ˆä¸€æ™‚çš„ã«ç„¡åŠ¹ï¼‰ã®ç‹¬ç«‹å‹•ä½œ
- **ã‚¹ãƒ¬ãƒƒãƒ‰åˆ†é›¢**: ãƒ¡ã‚¤ãƒ³UIã‚¹ãƒ¬ãƒƒãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¹ãƒ¬ãƒƒãƒ‰ã®å®Œå…¨åˆ†é›¢

### âœ… Phase 2: UIçŠ¶æ…‹åˆ†é›¢ - **å®Œäº†**
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `src/tui_state.rs` (286è¡Œ)
- **TuiStateæ§‹é€ ä½“**: UIçŠ¶æ…‹ã®ã¿ã‚’ä¿æŒã€æç”»ãƒ­ã‚¸ãƒƒã‚¯å®Œå…¨åˆ†é›¢
- **ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†**: apply_backend_event()ã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆã®çŠ¶æ…‹åæ˜ 
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›å‡¦ç†**: handle_input()ã§TuiInput â†’ TuiActionã®å¤‰æ›
- **æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰æ¤œå‡º**: ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹è‡ªå‹•æ¤œå‡ºï¼ˆ#, >, /ï¼‰æ©Ÿèƒ½å®Ÿè£…

### âœ… Phase 3: TUIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼å®Ÿè£… - **90%å®Œäº†**
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `src/tui_simulator.rs` (350è¡Œ)
- **TuiSimulatoræ§‹é€ ä½“**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„TUIæ“ä½œã®å®Œå…¨å®Ÿè£…
- **ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„æ“ä½œAPI**: simulate_typing(), simulate_key_press(), navigate_to()
- **çµ±åˆãƒ†ã‚¹ãƒˆç”¨ãƒ¡ã‚½ãƒƒãƒ‰**: wait_for_indexing_complete(), search_and_wait()
- **éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°æ“ä½œ**: try_process_event(), wait_for_event_timeout()

### âœ… åŸºæœ¬ãƒ†ã‚¹ãƒˆå®Ÿè£… - **å®Œäº†**
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/tui_architecture_test.rs` (110è¡Œ)
- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: TuiStateã€æ¤œç´¢ãƒ¢ãƒ¼ãƒ‰æ¤œå‡ºã€ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç† - **å…¨ã¦æˆåŠŸ**
- **ãƒ†ã‚¹ãƒˆå†…å®¹**: 
  - `test_tui_state_basic_functionality()` âœ…
  - `test_search_mode_detection()` âœ…  
  - `test_backend_event_application()` âœ…
  - `test_tui_simulator_creation()` âš ï¸ (ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå•é¡Œ)

### ğŸ”§ Phase 4-5: çµ±åˆãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ - **ä¿ç•™ä¸­**
- **èª²é¡Œ**: SearchBackendã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ãƒ—ã®ãƒãƒ³ã‚°å•é¡Œ
- **å•é¡Œç®‡æ‰€**: backend.rs run()ãƒ¡ã‚½ãƒƒãƒ‰ã®16msãƒãƒ¼ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ã§ç„¡é™ãƒ«ãƒ¼ãƒ—ç™ºç”Ÿ
- **ä¸€æ™‚å¯¾ç­–**: FileWatcherç„¡åŠ¹åŒ–ï¼ˆSendãƒˆãƒ¬ã‚¤ãƒˆå•é¡Œï¼‰
- **å½±éŸ¿**: TuiSimulatorä½œæˆæ™‚ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

## æŠ€è¡“çš„æˆæœ

### âœ… å®Œå…¨è²¬ä»»åˆ†é›¢é”æˆ
```
UIæç”»ãƒ­ã‚¸ãƒƒã‚¯ (ratatui) â‡” æŒ¯ã‚‹èˆã„ãƒ­ã‚¸ãƒƒã‚¯ (TuiState) â‡” ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (SearchBackend)
```

### âœ… ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹é€šä¿¡å®Ÿè£…
```rust
// 5ç¨®é¡ã®BackendEventå®Ÿè£…æ¸ˆã¿
BackendEvent::IndexingProgressã€IndexingCompleteã€FileChangedã€SearchResultsã€Error

// 5ç¨®é¡ã®UserCommandå®Ÿè£…æ¸ˆã¿  
UserCommand::StartIndexingã€Searchã€EnableFileWatchingã€CopyResultã€Quit
```

### âœ… ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„TUIæ“ä½œå®Ÿç¾
```rust
simulator.simulate_typing("#TestClass")?;
simulator.simulate_key_press(KeyCode::Enter)?;
let results = simulator.search_and_wait("test")?;
```

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### ğŸ”¥ é«˜å„ªå…ˆåº¦ï¼ˆPhase 3å®Œæˆï¼‰
1. **SearchBackendãƒ«ãƒ¼ãƒ—ä¿®æ­£**: 16msãƒãƒ¼ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ—ã®ãƒãƒ³ã‚°å•é¡Œè§£æ±º
2. **FileWatcherçµ±åˆ**: Sendãƒˆãƒ¬ã‚¤ãƒˆå¯¾å¿œã§ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–æ©Ÿèƒ½å¾©æ´»
3. **TuiSimulatorå®‰å®šåŒ–**: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå•é¡Œè§£æ±ºã¨çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè£…

### ğŸ“‹ ä¸­å„ªå…ˆåº¦ï¼ˆPhase 4-5ï¼‰
4. **çµ±åˆãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚·ãƒ³ã‚°ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã®åŒ…æ‹¬ãƒ†ã‚¹ãƒˆ
5. **å®ŸTUIçµ±åˆ**: æ–°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã®æ—¢å­˜TUIæ©Ÿèƒ½å†å®Ÿè£…
6. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¤œè¨¼**: 16msãƒãƒ¼ãƒªãƒ³ã‚°ç²¾åº¦ã€MAX_UPDATES_PER_FRAMEåŠ¹æœæ¸¬å®š

## å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ›´æ–°

- **Phase 1-2**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»çŠ¶æ…‹åˆ†é›¢ âœ… **å®Œäº†** (1ã‚»ãƒƒã‚·ãƒ§ãƒ³)
- **Phase 3**: ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼å®Ÿè£… ğŸ”§ **90%å®Œäº†** (ä¿®æ­£ä¸­)
- **Phase 4**: çµ±åˆãƒ†ã‚¹ãƒˆ â³ **å¾…æ©Ÿä¸­** (1-2ã‚»ãƒƒã‚·ãƒ§ãƒ³äºˆæƒ³)
- **Phase 5**: å®ŸTUIçµ±åˆãƒ»æ¤œè¨¼ â³ **å¾…æ©Ÿä¸­** (1ã‚»ãƒƒã‚·ãƒ§ãƒ³äºˆæƒ³)

**ç¾åœ¨ã®é”æˆç‡**: **70%** (Phase 1-2å®Œäº†ã€Phase 3ã»ã¼å®Œäº†)

---

*ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ç¶™ç¶šçš„ã«æ›´æ–°ã•ã‚Œã€å®Ÿè£…é€²æ—ã¨ã¨ã‚‚ã«è©³ç´°åŒ–ã•ã‚Œã‚‹*  
*æœ€çµ‚æ›´æ–°: 2025-06-11 22:30 JST*